<div class="home-container">
    <ng-container *ngIf="productsService.products$ | async as products">
        <ng-container *ngIf="!products.isLoading; else loading">
            <button
                mat-button
                class="add-button"
                (click)="onClickAddProduct()">
                Add
            </button>

            <mat-card
                class="product-card"
                *ngFor="let p of products.items">
                <mat-card-header>
                    <mat-card-title>{{p.name}}</mat-card-title>
                    <mat-card-subtitle>{{p.description}}</mat-card-subtitle>
                </mat-card-header>
                <img
                    mat-card-image
                    [src]="p.imageUrl"
                    alt="Photo of a Shiba Inu">
                <mat-card-actions>
                    <button
                        mat-button
                        (click)="onDeleteCard(p)">
                        DELETE
                    </button>
                </mat-card-actions>
            </mat-card>
        </ng-container>
    </ng-container>

</div>

<ng-template #loading>
    <div class="loading-container">loading...</div>
</ng-template>
